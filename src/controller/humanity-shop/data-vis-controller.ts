import * as fs from 'fs';
import { Request, Response } from 'express';
import * as csv from 'convert-csv-to-json';
import c from 'config';
import { ProductInput } from '../../models/humanity-shop/product.model';
const shitString =
    '9/9/2022 13:26:38,mihkel@vatteater.ee,2 - Mitte eriti oluline,4 - Väga oluline,5 - Ülioluline,1 - Ebaoluline,1 - Ebaoluline,5 - Ülioluline,4 - Väga oluline,1 - Ebaoluline,5 - Ülioluline,2 - Mitte eriti oluline,5 - Ülioluline,1 - Ebaoluline,4 - Väga oluline,1 - Ebaoluline,5 - Ülioluline,4 - Väga oluline,1 - Ebaoluline,4 - Väga oluline,3 - Neutraalne,4 - Väga oluline,1 - Ebaoluline,3 - Neutraalne,4 - Väga oluline,5 - Ülioluline,3 - Neutraalne,4 - Väga oluline,3 - Neutraalne,1 - Ebaoluline,1 - Ebaoluline,3 - Neutraalne,3 - Neutraalne,4 - Väga oluline,1 - Ebaoluline,4 - Väga oluline,4 - Väga oluline,1 - Ebaoluline,4 - Väga oluline,5 - Ülioluline,4 - Väga oluline,1 - Ebaoluline,1 - Ebaoluline,1 - Ebaoluline,5 - Ülioluline,5 - Ülioluline,4 - Väga oluline,5 - Ülioluline,2 - Mitte eriti oluline,4 - Väga oluline,3 - Neutraalne,5 - Ülioluline,3 - Neutraalne,5 - Ülioluline,1 - Ebaoluline,1 - Ebaoluline,1 - Ebaoluline,4 - Väga oluline,5 - Ülioluline,5 - Ülioluline,3 - Neutraalne,1 - Ebaoluline,5 - Ülioluline,5 - Ülioluline,3 - Neutraalne,2 - Mitte eriti oluline,3 - Neutraalne,3 - Neutraalne,2 - Mitte eriti oluline,5 - Ülioluline,1 - Ebaoluline,1 - Ebaoluline,2 - Mitte eriti oluline,5 - Ülioluline,1 - Ebaoluline,1 - Ebaoluline,1 - Ebaoluline,4 - Väga oluline,4 - Väga oluline,5 - Ülioluline,3 - Neutraalne,2 - Mitte eriti oluline,4 - Väga oluline,3 - Neutraalne,3 - Neutraalne,2 - Mitte eriti oluline,2 - Mitte eriti oluline,5 - Ülioluline,4 - Väga oluline,3 - Neutraalne,1 - Ebaoluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,4 - Väga oluline,3 - Neutraalne,2 - Mitte eriti oluline,1 - Ebaoluline,5 - Ülioluline,5 - Ülioluline,3 - Neutraalne,2 - Mitte eriti oluline,1 - Ebaoluline,3 - Neutraalne,3 - Neutraalne,4 - Väga oluline,1 - Ebaoluline,1 - Ebaoluline,3 - Neutraalne,1 - Ebaoluline,1 - Ebaoluline,4 - Väga oluline,5 - Ülioluline,5 - Ülioluline,3 - Neutraalne,3 - Neutraalne,4 - Väga oluline,2 - Mitte eriti oluline,1 - Ebaoluline,4 - Väga oluline,4 - Väga oluline,5 - Ülioluline,2 - Mitte eriti oluline,5 - Ülioluline,5 - Ülioluline,2 - Mitte eriti oluline,5 - Ülioluline,4 - Väga oluline,3 - Neutraalne,1 - Ebaoluline,5 - Ülioluline,5 - Ülioluline,1 - Ebaoluline,4 - Väga oluline,4 - Väga oluline,5 - Ülioluline,4 - Väga oluline,1 - Ebaoluline,4 - Väga oluline,4 - Väga oluline,3 - Neutraalne,2 - Mitte eriti oluline,3 - Neutraalne,3 - Neutraalne,4 - Väga oluline,3 - Neutraalne,3 - Neutraalne,3 - Neutraalne,3 - Neutraalne,4 - Väga oluline,3 - Neutraalne,3 - Neutraalne,3 - Neutraalne,4 - Väga oluline,1 - Ebaoluline,1 - Ebaoluline,4 - Väga oluline,2 - Mitte eriti oluline,1 - Ebaoluline,3 - Neutraalne,5 - Ülioluline,1 - Ebaoluline,1 - Ebaoluline,1 - Ebaoluline,3 - Neutraalne,1 - Ebaoluline,1 - Ebaoluline,5 - Ülioluline,4 - Väga oluline,1 - Ebaoluline,1 - Ebaoluline,3 - Neutraalne,4 - Väga oluline,4 - Väga oluline,4 - Väga oluline,3 - Neutraalne,4 - Väga oluline,4 - Väga oluline,1 - Ebaoluline,1 - Ebaoluline,3 - Neutraalne,5 - Ülioluline,4 - Väga oluline,4 - Väga oluline,1 - Ebaoluline,1 - Ebaoluline,4 - Väga oluline,4 - Väga oluline,5 - Ülioluline,1 - Ebaoluline,3 - Neutraalne,5 - Ülioluline,2 - Mitte eriti oluline,3 - Neutraalne,4 - Väga oluline,5 - Ülioluline,1 - Ebaoluline,3 - Neutraalne,4 - Väga oluline,5 - Ülioluline,3 - Neutraalne,3 - Neutraalne,1 - Ebaoluline,1 - Ebaoluline,5 - Ülioluline,1 - Ebaoluline,4 - Väga oluline,4 - Väga oluline,4 - Väga oluline,5 - Ülioluline,4 - Väga oluline,4 - Väga oluline,5 - Ülioluline,2 - Mitte eriti oluline,1 - Ebaoluline,5 - Ülioluline,4 - Väga oluline,1 - Ebaoluline,3 - Neutraalne,5 - Ülioluline,1 - Ebaoluline,5 - Ülioluline,1 - Ebaoluline,1 - Ebaoluline,3 - Neutraalne,5 - Ülioluline,4 - Väga oluline,3 - Neutraalne,1 - Ebaoluline,5 - Ülioluline,3 - Neutraalne,5 - Ülioluline,1 - Ebaoluline,2 - Mitte eriti oluline,1 - Ebaoluline,5 - Ülioluline,3 - Neutraalne,5 - Ülioluline,1 - Ebaoluline,2 - Mitte eriti oluline,4 - Väga oluline,1 - Ebaoluline\n' +
    '9/26/2022 23:34:18,madli.pesti@gmail.com,1 - Ebaoluline,1 - Ebaoluline,5 - Ülioluline,5 - Ülioluline,2 - Mitte eriti oluline,4 - Väga oluline,2 - Mitte eriti oluline,1 - Ebaoluline,5 - Ülioluline,5 - Ülioluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,4 - Väga oluline,1 - Ebaoluline,5 - Ülioluline,2 - Mitte eriti oluline,1 - Ebaoluline,1 - Ebaoluline,5 - Ülioluline,5 - Ülioluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,4 - Väga oluline,4 - Väga oluline,4 - Väga oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,1 - Ebaoluline,1 - Ebaoluline,3 - Neutraalne,4 - Väga oluline,4 - Väga oluline,4 - Väga oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,4 - Väga oluline,4 - Väga oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,5 - Ülioluline,4 - Väga oluline,4 - Väga oluline,1 - Ebaoluline,1 - Ebaoluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,4 - Väga oluline,4 - Väga oluline,3 - Neutraalne,3 - Neutraalne,3 - Neutraalne,3 - Neutraalne,3 - Neutraalne,2 - Mitte eriti oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,5 - Ülioluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,3 - Neutraalne,2 - Mitte eriti oluline,3 - Neutraalne,3 - Neutraalne,3 - Neutraalne,3 - Neutraalne,3 - Neutraalne,3 - Neutraalne,4 - Väga oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,4 - Väga oluline,4 - Väga oluline,3 - Neutraalne,3 - Neutraalne,1 - Ebaoluline,4 - Väga oluline,4 - Väga oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,1 - Ebaoluline,1 - Ebaoluline,1 - Ebaoluline,1 - Ebaoluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,5 - Ülioluline,4 - Väga oluline,2 - Mitte eriti oluline,1 - Ebaoluline,4 - Väga oluline,4 - Väga oluline,1 - Ebaoluline,1 - Ebaoluline,4 - Väga oluline,4 - Väga oluline,4 - Väga oluline,4 - Väga oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,3 - Neutraalne,4 - Väga oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,4 - Väga oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,4 - Väga oluline,4 - Väga oluline,5 - Ülioluline,1 - Ebaoluline,1 - Ebaoluline,5 - Ülioluline,5 - Ülioluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,4 - Väga oluline,5 - Ülioluline,5 - Ülioluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,4 - Väga oluline,4 - Väga oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,4 - Väga oluline,4 - Väga oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,4 - Väga oluline,4 - Väga oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,1 - Ebaoluline,1 - Ebaoluline,1 - Ebaoluline,1 - Ebaoluline,4 - Väga oluline,4 - Väga oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,4 - Väga oluline,4 - Väga oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,3 - Neutraalne,3 - Neutraalne,3 - Neutraalne,3 - Neutraalne,2 - Mitte eriti oluline,4 - Väga oluline,1 - Ebaoluline,1 - Ebaoluline,1 - Ebaoluline,1 - Ebaoluline,1 - Ebaoluline,1 - Ebaoluline,4 - Väga oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,4 - Väga oluline,3 - Neutraalne,3 - Neutraalne,3 - Neutraalne,3 - Neutraalne,3 - Neutraalne,5 - Ülioluline,3 - Neutraalne,1 - Ebaoluline,4 - Väga oluline,4 - Väga oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,4 - Väga oluline,4 - Väga oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,1 - Ebaoluline,1 - Ebaoluline,1 - Ebaoluline,1 - Ebaoluline,4 - Väga oluline,4 - Väga oluline,1 - Ebaoluline,1 - Ebaoluline,4 - Väga oluline,4 - Väga oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,4 - Väga oluline,4 - Väga oluline,4 - Väga oluline,4 - Väga oluline,4 - Väga oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,5 - Ülioluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline,3 - Neutraalne,3 - Neutraalne,3 - Neutraalne,3 - Neutraalne,2 - Mitte eriti oluline,4 - Väga oluline,4 - Väga oluline,4 - Väga oluline,3 - Neutraalne,3 - Neutraalne,3 - Neutraalne,5 - Ülioluline,3 - Neutraalne,3 - Neutraalne,3 - Neutraalne,3 - Neutraalne,2 - Mitte eriti oluline,2 - Mitte eriti oluline,4 - Väga oluline,4 - Väga oluline,4 - Väga oluline,4 - Väga oluline,2 - Mitte eriti oluline,2 - Mitte eriti oluline\n';
export async function getDataVisInfo(req: Request, res: Response) {
    const str =
        'Timestamp,"Sinu email, kui soovid esimesena teada, kui piletid müügile tulevad. ",Kuldsed kõrvarõngad [Roheline],Kuldsed kõrvarõngad [Sinine],Kuldsed kõrvarõngad [Punane],Kuldsed kõrvarõngad [Oranž],Piibel [Roheline],Piibel [Sinine],Piibel [Punane],Piibel [Oranž],Taskunuga [Roheline],Taskunuga [Sinine],Taskunuga [Punane],Taskunuga [Oranž],Revolver [Roheline],Revolver [Sinine],Revolver [Punane],Revolver [Oranž],Peegel [Roheline],Peegel [Sinine],Peegel [Punane],Peegel [Oranž],Ruubiku kuubik [Roheline],Ruubiku kuubik [Sinine],Ruubiku kuubik [Punane],Ruubiku kuubik [Oranž],Joonistusplokk ja pliiatsid [Roheline],Joonistusplokk ja pliiatsid [Sinine],Joonistusplokk ja pliiatsid [Punane],Joonistusplokk ja pliiatsid [Oranž],LEGO-komplekt [Roheline],LEGO-komplekt [Sinine],LEGO-komplekt [Punane],LEGO-komplekt [Oranž],Lapsepõlve jo-jo [Roheline],Lapsepõlve jo-jo [Sinine],Lapsepõlve jo-jo [Punane],Lapsepõlve jo-jo [Oranž],Parmupill [Roheline],Parmupill [Sinine],Parmupill [Punane],Parmupill [Oranž],Duolingo keeleõppe programm [Roheline],Duolingo keeleõppe programm [Sinine],Duolingo keeleõppe programm [Punane],Duolingo keeleõppe programm [Oranž],Meditatsioonimuusika CD [Roheline],Meditatsioonimuusika CD [Sinine],Meditatsioonimuusika CD [Punane],Meditatsioonimuusika CD [Oranž],Kõrvaklapid [Roheline],Kõrvaklapid [Sinine],Kõrvaklapid [Punane],Kõrvaklapid [Oranž],Boombox [Roheline],Boombox [Sinine],Boombox [Punane],Boombox [Oranž],Aroomiküünlad [Roheline],Aroomiküünlad [Sinine],Aroomiküünlad [Punane],Aroomiküünlad [Oranž],Kitarr [Roheline],Kitarr [Sinine],Kitarr [Punane],Kitarr [Oranž],Kondoomid [Roheline],Kondoomid [Sinine],Kondoomid [Punane],Kondoomid [Oranž],Veip/e-sigaret [Roheline],Veip/e-sigaret [Sinine],Veip/e-sigaret [Punane],Veip/e-sigaret [Oranž],Niisutav kätekreem [Roheline],Niisutav kätekreem [Sinine],Niisutav kätekreem [Punane],Niisutav kätekreem [Oranž],Tühi märkmik kirjutamiseks [Roheline],Tühi märkmik kirjutamiseks [Sinine],Tühi märkmik kirjutamiseks [Punane],Tühi märkmik kirjutamiseks [Oranž],Joogamatt [Roheline],Joogamatt [Sinine],Joogamatt [Punane],Joogamatt [Oranž],Bonsai puu [Roheline],Bonsai puu [Sinine],Bonsai puu [Punane],Bonsai puu [Oranž],Mängukaardid [Roheline],Mängukaardid [Sinine],Mängukaardid [Punane],Mängukaardid [Oranž],Džembe trumm [Roheline],Džembe trumm [Sinine],Džembe trumm [Punane],Džembe trumm [Oranž],Viirukid [Roheline],Viirukid [Sinine],Viirukid [Punane],Viirukid [Oranž],Päikseprillid [Roheline],Päikseprillid [Sinine],Päikseprillid [Punane],Päikseprillid [Oranž],Pinksireket ja -pallid [Roheline],Pinksireket ja -pallid [Sinine],Pinksireket ja -pallid [Punane],Pinksireket ja -pallid [Oranž],Lemmikautori maali repro [Roheline],Lemmikautori maali repro [Sinine],Lemmikautori maali repro [Punane],Lemmikautori maali repro [Oranž],Plakat Mendelejevi perioodilisustabeliga [Roheline],Plakat Mendelejevi perioodilisustabeliga [Sinine],Plakat Mendelejevi perioodilisustabeliga [Punane],Plakat Mendelejevi perioodilisustabeliga [Oranž],Diktofon [Roheline],Diktofon [Sinine],Diktofon [Punane],Diktofon [Oranž],Perekonnaalbum [Roheline],Perekonnaalbum [Sinine],Perekonnaalbum [Punane],Perekonnaalbum [Oranž],Peotäis tõrusid ja seemneid [Roheline],Peotäis tõrusid ja seemneid [Sinine],Peotäis tõrusid ja seemneid [Punane],Peotäis tõrusid ja seemneid [Oranž],Peotäis hallutsinogeenseid seeni [Roheline],Peotäis hallutsinogeenseid seeni [Sinine],Peotäis hallutsinogeenseid seeni [Punane],Peotäis hallutsinogeenseid seeni [Oranž],Villased sokid [Roheline],Villased sokid [Sinine],Villased sokid [Punane],Villased sokid [Oranž],Joogariided [Roheline],Joogariided [Sinine],Joogariided [Punane],Joogariided [Oranž],Dressid [Roheline],Dressid [Sinine],Dressid [Punane],Dressid [Oranž],Silmaklapid [Roheline],Silmaklapid [Sinine],Silmaklapid [Punane],Silmaklapid [Oranž],Kõrvatropid [Roheline],Kõrvatropid [Sinine],Kõrvatropid [Punane],Kõrvatropid [Oranž],Jalgpall või korvpall [Roheline],Jalgpall või korvpall [Sinine],Jalgpall või korvpall [Punane],Jalgpall või korvpall [Oranž],MacGyveri teip [Roheline],MacGyveri teip [Sinine],MacGyveri teip [Punane],MacGyveri teip [Oranž],Lumegloobus [Roheline],Lumegloobus [Sinine],Lumegloobus [Punane],Lumegloobus [Oranž],Eesti põhiseadus raamatuna [Roheline],Eesti põhiseadus raamatuna [Sinine],Eesti põhiseadus raamatuna [Punane],Eesti põhiseadus raamatuna [Oranž],Monopoli lauamäng [Roheline],Monopoli lauamäng [Sinine],Monopoli lauamäng [Punane],Monopoli lauamäng [Oranž],Kogumik teadusajakirju [Roheline],Kogumik teadusajakirju [Sinine],Kogumik teadusajakirju [Punane],Kogumik teadusajakirju [Oranž],Kogumik pornoajakirju  [Roheline],Kogumik pornoajakirju  [Sinine],Kogumik pornoajakirju  [Punane],Kogumik pornoajakirju  [Oranž],Eesti naisluuletajate antoloogia [Roheline],Eesti naisluuletajate antoloogia [Sinine],Eesti naisluuletajate antoloogia [Punane],Eesti naisluuletajate antoloogia [Oranž],Õmblusmasin [Roheline],Õmblusmasin [Sinine],Õmblusmasin [Punane],Õmblusmasin [Oranž],Soolalamp [Roheline],Soolalamp [Sinine],Soolalamp [Punane],Soolalamp [Oranž],Tarokaardid või ouija laud [Roheline],Tarokaardid või ouija laud [Sinine],Tarokaardid või ouija laud [Punane],Tarokaardid või ouija laud [Oranž],Võrkkiik [Roheline],Võrkkiik [Sinine],Võrkkiik [Punane],Võrkkiik [Oranž],Pussnuga [Roheline],Pussnuga [Sinine],Pussnuga [Punane],Pussnuga [Oranž],Psühholoogia õpik [Roheline],Psühholoogia õpik [Sinine],Psühholoogia õpik [Punane],Psühholoogia õpik [Oranž],Esmaabiõpik [Roheline],Esmaabiõpik [Sinine],Esmaabiõpik [Punane],Esmaabiõpik [Oranž],"""Eesti"" lauamäng [Roheline]","""Eesti"" lauamäng [Sinine]","""Eesti"" lauamäng [Punane]","""Eesti"" lauamäng [Oranž]",Kamasuutra õpik [Roheline],Kamasuutra õpik [Sinine],Kamasuutra õpik [Punane],Kamasuutra õpik [Oranž],Vaktsiinid [Roheline],Vaktsiinid [Sinine],Vaktsiinid [Punane],Vaktsiinid [Oranž],Vlogimise komplekt [Roheline],Vlogimise komplekt [Sinine],Vlogimise komplekt [Punane],Vlogimise komplekt [Oranž],"Raamat ""Unenägude seletaja"" [Roheline]","Raamat ""Unenägude seletaja"" [Sinine]","Raamat ""Unenägude seletaja"" [Punane]","Raamat ""Unenägude seletaja"" [Oranž]",100L viskit [Roheline],100L viskit [Sinine],100L viskit [Punane],100L viskit [Oranž],Klaver [Roheline],Klaver [Sinine],Klaver [Punane],Klaver [Oranž]';
    const keys = str.split(',');
    const contents = shitString.split('\n');
    console.log(keys);
    const products = [];
    let counter = 0;
    contents.forEach((row) => {
        console.log(row);
        counter = 0;
        const rowItems = row.split(',');
        for (let i = 0; i < keys.length; i++) {
            const product = {
                name: keys[i],
                humanity_values: {
                    green: rowItems[i],
                    blue: rowItems[i + 1],
                    red: rowItems[i + 2],
                    orange: rowItems[i + 3],
                },
            };
            products.push(product);
            counter += 4;
        }
    });

    console.log(products);
    return res.send({ products });
}
